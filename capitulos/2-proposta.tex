\chapter{Metodologia}
\label{cap-metodologia}

Este capítulo aborda sobre tudo que compõe a metodologia de pesuisa além dos
procedimentos (métodos e técnicas) utilizados durante o trabalho, a fim de
explicar como o desenvolvimento do trabalho foi realizado para atingir os objetivos,
servindo como base para a sua reprodução em trabalhos futuros.

A pesquisa é fundamentada e metodologicamente construída objetivando a resolução
ou o esclarecimento de um problema. O problema é o ponto de partida da pesquisa.
Da sua formulação dependerá o desenvolvimento da sua pesquisa.
\cite{moresi2003metodologia}

A questão problema a ser resolvida neste trabalho é:

\begin{center}
  \textit{
  Como implantar múltiplas aplicações a partir de um pacote único
  de forma centralizada e segura?
}
\end{center}

Para responder a questão problema deste trabalho se faz a necessidade de uma especificação
de uma metodologia de pesquisa que de acordo com \cite{marconi2002tecnicas} a
especificação da metodologia abrange itens que respondem questões como por
exemplo: Como?, Com quê?, Onde?.

De acordo com \cite{gerhardt2009metodos} existem diferentes tipos de pesquisa,
são eles classificados quanto à sua abordagem, sua natureza, seus objetivos e
seus procedimentos. Por isso é importante selecionar a modalidade de pesquisa
adequada ao objeto de pesquisa.

Assim este trabalho é classificado  quanto á natureza como pesquisa aplicada
pois tem como objetivo gerar conhecimentos para aplicação prática, dirigidos à
solução de problemas específicos. \cite{gerhardt2009metodos}.

Quanto a abordagem,a pesquisa é classificada como qualitativa, pois pesquisadores que utilizam os
métodos qualitativos buscam explicar o porquê das coisas, exprimindo o que convém
ser feito, mas não quantificam os valores e as trocas simbólicas nem se submetem
à prova de fatos, pois os dados analisados são não-métricos \cite{gerhardt2009metodos}.

Quanto aos objetivos, esta pesquisa é classificada como pesquisa descritiva, que
exige do investigador uma série de informações sobre o que deseja pesquisar.
Esse tipo de estudo pretende descrever os fatos e fenômenos de determinada realidade
\cite{trivinos1987introduccao}.

Quanto aos procedimentos técnicos, serão utilizados neste trabalho a pesquisa bibliográfica
baseada no levantamento de referências teóricas em livros e artigos científicos, permitindo
conhecer o que já foi abordado no assunto com trabalhos relacionados e
conhecimentos prévios sobre a respeito da possivel solução á questão problema.
Além disso também será usado a pesquisa experimental que dado a proposta de solução
da questão de pesquisa terá sua validação baseada em exemplos de uso,
cada um com o cenário de uso diferente para testar a solução proposta.

Quanto ás técnicas de coleta de dados, de acordo com \cite{gerhardt2009metodos}
a coleta de dados é a busca por informações para a elucidação do fenômeno ou
fato que o pesquisador quer desvendar, serão utilizados neste trabalho a pesquisa
bibliográfica e observação simples da aplicação da solução nos exemplos de uso.

A \ref{fig:metodologia1} apresenta de forma resumida a classficação da pesquisa

\begin{figure}[h]
  \centering
  \includegraphics[width=0.9\textwidth]
      {figuras/resumo_metodologia.eps}
  \caption{Resumo da classificação de pesquisa}
  \label{fig:metodologia1}
\end{figure}

Segundo \cite{andre2008estudo} uma pesquisa é executada de acordo com três fases:
Planejamento, Coleta de dados e Análise de dados. Na fase de planejamento consiste
em definir o escopo do estudo junto com a questão de pesquisa e a metodologia
de pesquisa, com os seus procedimentos e exemplos de uso. Na fase de coleta de dados
se aplicam os procedimentos definidos para a coleta para que na última fase esses
dados sejam analisados e os resultados possam ser divulgados. Essas fases estão
resumidas na \ref{fig:metodologia2}.

\begin{figure}[h]
  \centering
  \includegraphics[width=0.9\textwidth]
      {figuras/metodologia2.eps}
  \caption{Fases da pesquisa}
  \label{fig:metodologia2}
\end{figure}

\section{Trabalhos Relacionados}

Para responder a questão problema primeiramente deve ser feito um levantamento
de trabalhos relacionados, para entender melhor como a automação da implantação
de software está sendo utilizada como solução na academia e nas empresas, e
quais são os procedimentos e técnicas utilizados, e se os aspectos de segurança
são levados em consideração.

Para entender o que acontece na comunidade da computação em relação a implantação
automatizada de aplicações, foi feito uma busca de alguns trabalhos relacionados, o primeiro
trabalho relacionado é um trabalho acadêmico feito por \cite{leo2014} no qual foi
desenvolvido um sistema de middleware chamado CHOReOS Enactment Engine que é um
sistema que possibilita a implantação distribuída e automatizada de composições
de serviços web em uma estrutura virtualizada, no qual opera no modelo
computacional conhecido como plataforma como serviço, comparando esse sistema
com abordagens ah-hoc de implantação levando em consideração a escalabilidade
em relação ao tempo de implantação das composições dos serviços.

Existem também ferramentas disponíveis no mercado que também trazem a proposta
de automação de instalação de aplicações alguns exemplos são: \cite{bitnami}
BitNami que é uma biblioteca de aplicativos de servidor populares e ambientes de
desenvolvimento que pode ser instalado com um clique. Ele automatiza todo o
processo de  compilar e configurar os aplicativos e todas as suas dependências
(bibliotecas de terceiros,linguagem de programação, bases de dados) para que o
usuário comum não se preocupe com questões mais técnicas. Também temos o
\cite{standstormio} Sandstorm é uma plataforma de código aberto para servidores
pessoais. Sandstorm permite que você execute o seu próprio servidor e instalar
facilmente e por fim a ferramenta \cite{juju} Juju que lhe permite implementar,
configurar, gerenciar, manter e serviços de forma rápida e eficiente escala nuvem
em nuvens públicas.

Com os trabalhos relacionados vimos que apesar de todas elas trazerem soluções
para automatizar instalação de aplicações mas nenhuma delas traz uma solução que
permita a automatizar instalação e configuração de múltiplas instâncias de uma aplicação
utilizando empacotamento, a utilização do empacotamento trás inúmeras vantagens
no processo de implantação de aplicações como citadas em \ref{cap-introducao}.
Com isso, tendo os trabalhos relacionados e a questão de pesquisa como insumo,
justifica-se a definição de uma proposta de arquitetura e procedimentos para
implantação automatizada de aplicações web que utilizam pacotes debian.

\section{Métodos e Procedimentos ou Arquitetura Proposta????}

A partir do referencial teórico pode-se definir uma proposta de
arquitetura básica para implantação automatizada de aplicações definindo as
tecnologias, ferramentas e  procedimentos a serem seguidos que levam em consideração as boas
práticas de implantação e os aspectos de segurança na impmantação de software.

Na definição da arquitetura inicial é importante levar em consideração os seguintes
aspectos:

\begin{itemize}
  \item  \textbf{A1 :} Aspectos de segurança na implantação de aplicações web.
  \item  \textbf{A2 :} Implantação automatizada de múltiplas instâncias de
   aplicações no mesmo servidor.
  \item  \textbf{A3 :} Possibilidade de lidar com aplicações em desenvolvidas em
  diferentes linguagens.
\end{itemize}

TODO
Como eu fiz essa arquitetura?

- Precisar escolher ferramentas de automação de instalação
- Escolher banco de dados


\section{Validação do método}

Para validação do método será feito o uso de uma TODO discreta que de acordo com
TODO diz que TODO.

Para validar o método do trabalho será feitos exemplos de uso com aplicações
que possam servir como base para validação da proposta de arquitetura, a fim de
refinar e evoluir a solução, baseada em exemplos de uso com aplicações reais e conhecidas
na comunidade de software livre.


\subsection{Exemplos de uso}

Com isso serão escolhidos alguns exemplos de uso, com a
finalidade de verificar se com tais métodos e procedimentos atingimos o objetivo
estabelecido. Para a escolha das aplicações que serão utilizadas como exemplos
de uso é necessário fazer uma busca nas aplicações web que são empacotadas no
debian e que possuem suporte a configuração de múltiplas instâncias,essa busca
deve levar em consideração também a documentação para realizar tal configuração.

Foram levantados algumas aplicações web empacotadas no debian da seguinte forma:

\begin{verbatim}
apt-cache search web | wc -l
\end{verbatim}

O resultado obtido com pacotes que contenham a palavra web recebe o resultado de 3470
pacotes de diversas aplicações ou módulos de aplicações, como:
wordpress, owncloud, drupal, mailman, chromium, etc. Logo dentro dessa rápida busca
encontramos alguns pacotes de aplicações conhecidas, para facilitar a busca basta
aplicar para alguns nomes de aplicações conhecidos como:

\begin{verbatim}
apt-cache search web | grep wordpress
\end{verbatim}

Para avaliar se as aplicações possuem suporte a múltiplas instâncias é necessário
analisar a documentação das aplicações, as aplicações costumam disponibilizar a sua
documentação na sua página ou em uma wiki, também é possível checar a documentação
quando se instala uma aplicação nos arquivos de documentação da aplicação em
/usr/share/doc/ ou também pode-se utilizar os comandos:

\begin{verbatim}
man nomeaplicação
ou
info nomeaplicacao
\end{verbatim}

Com as aplicações que serão exemplos de uso escolhidas a proposta de arquitetura
pode ser testada e validada, com o objetivo de criar múltiplas instâncias
no mesmo servidor de forma automatizada a partir de um pacote único, logo os
exemplos de uso também servirão para refinar e evoluir a arquitetura proposta.
Para realizar tais validações é importante que as instalações e configurações
sejam em um ambiente limpo, ou seja, os testes devem ser criados de preferência
em máquinas virtuais com a configuração conhecida como "minimal", que contém
instalado apenas as apliacções necessárias para o funcionamento do sistema.

%------------------------------- TODO MOVER para parte de resultados preliminares
%Como o interesse neste trabalho é a busca por aplicações que possam ser instaladas
%em servidores e que sejam interessantes para usuários nos deparamos com ferramentas
%que se encaixam no nosso contexto como por exemplo: owncloud que é uma ferramenta para armazenamento
%na nuvem para arquivos, músicas, calendários, contatos. E wordpress que é
%uma ferramenta conhecida para criação de blogs.
%-----------------------------------------------------------------------------

% TODO fica ou sai?
%\section{Hipótese}
%
%Todas essas ferramentas resolvem parcialmente a questão problema neste trabalho,
%a questão problema a ser resolvida neste trabalho é:
%
%\begin{center}
%  \textit{
%  Como implantar múltiplas aplicações a partir de um pacote único
%  de forma centralizada e segura?
%}
%\end{center}
%
%
%\begin{itemize}
%  \item  \textbf{H1 :} É possível criar varias instâncias de aplicações
%  web a partir de um pacote único no mesmo servidor.
%   \item  \textbf{H2 :} Existe uma arquitetura definida para implantação de
%   múltiplas instâncias de aplicações a partir de um pacote único que levam em consideração
%   os aspectos de segurança em uma implantação automatizada de software.
%\end{itemize}
%
%Essas hipóteses serão importantes para definir a proposta para a solução da questão
%problema, como de acordo com (MARCONI; LAKATOS, 2000, p. 137) a hipótese
%é suposta, provável e provisória resposta ao problema.
%
%\section{Teste das Hipóteses}

\section{Detalhes da Proposta}

A proposta deste trabalho é trazer uma solução para a implantação automatizada
de múltiplas aplicações a partir de um pacote único de forma centralizada e segura.
Para isso será primeiramente necessário definir uma arquitetura padrão para a
implantação dessas aplicações, ou seja, definir:

\begin{itemize}
  \item  \textbf{Tecnologia para automatizar implantação :}  Definir qual será a
  tecnologia escolhida dentre as citadas no referencial teórico para dar suporte
  a implantação.
  \item  \textbf{Conjunto mínimo de dependências:} Definir quais são as dependências
  mínimas para o funcionamento das aplicações escolhidas, tais como: sistema operacional,
  pacotes pré-instalados e aplicações pré-configuradas.
  \item  \textbf{Procedimentos para implantação:} Definir quais são etapas da implantação,
  definir a ordem necessária para a execução de cada fase da implantação.
  \item  \textbf{Aspectos de segurança} Definir quais são os aspectos de segurança
  e automatizar os que forem possíveis de serem aplicados dentro do contexto desejado.
\end{itemize}

Com a arquitetura definida o próximo passo é definir um ambiente de desenvolvimento e de
testes, dado o contexto de implantação de software é importante possuir um ambiente flexível para
testar facilmente a instalação e configuração das aplicações e podendo facilmente
reinicializar esse ambiente de forma que ele fique limpo sem resquícios da instalação
anterior.

Com a arquitetura definida e com um ambiente de desenvolvimento e de testes configurados, é
necessário definir quais são as ferramentas que servirão como caso de testes
para a implementação da solução. Elas serão importantes pois a partir delas
e de suas necessidades que será implementado a primeira versão da proposta para
a solução. Por isso também é importante definir aspectos que servirão como parâmetro
para ajudar no desenvolvimento da solução. Esses aspectos são:

\begin{itemize}
  \item  \textbf{Aplicações empacotadas no debian :}  Como o intuito do trabalho
  é realizar implantações múltiplas a partir de um pacote único, tais aplicações
  devem estar empacotadas e disponíveis para instalação nos servidores do debian.
  Isso impacta na escolha da ferramenta, visto que não será necessário ter o trabalho
  de empacotar aplicações que ainda não estão empacotadas no debian.
  \item  \textbf{Servidor web compatível:} As ferramentas escolhidas devem no
  mínimo possuir o servidor web compatível, por exemplo: as aplicações juntas
  devem possuir suporte para nginx ou apache ou similares.
  \item  \textbf{Aplicações com comunidades ativas:} Como estamos trabalhando
  com software livre, é importante que os softwares escolhidos possuem comunidades
  ativas, isso pode ajudar na resolução de  possíveis problemas, logo aplicações
  desconhecidas devem ser evitadas, e aplicações conhecidas devem ser priorizadas.
  E isso também pode ser um fator importante caso durante os testes sejam descobertos
  bugs ou melhorias dentro dessas ferramentas.
  \item  \textbf{Documentação do software:} A documentação do software também deve
  ser levado em consideração, principalmente a documentação da instalação e configuração
  dentro da arquitetura definida.
\end{itemize}

Por fim, com a arquitetura definida, ambientes definidos e ferramentas escolhidas
servirão de insumo para a construção da solução proposta.
