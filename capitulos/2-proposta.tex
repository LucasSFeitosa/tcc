\chapter{Definição e Preparação dos Estudos}

\label{cap-metodologia}
Este capítulo aborda sobre todo o planejamento para a execução do projeto,
contendo os procedimentos e técnicas utilizados, a fim de
explicar como o desenvolvimento foi realizado para atingir os seus objetivos,
servindo como base para a sua reprodução em trabalhos futuros.

O trabalho é fundamentado na construção de uma solução utilizando conceitos e práticas
da engenharia de software, com a definição de um objetivo, a definição de um panejamento,
e a execução das atividades planejadas, e posteriormente a validação dos resultados.
O objetivo deste trabalho é resolver a seguinte questão:

\begin{center}
  \textit{
  Como implantar aplicações web em sistema Debian GNU/Linux de forma automatizada e
  e segura?
}
\end{center}

Dado objetivo e a questão problema, este trabalho consiste em contribuir
com a construção de uma solução de engenharia de software que permita implantar
aplicações web em sistemas Debian GNU/Linux de forma automatizada e segura. Essa
construção será feita a partir dos conhecimentos adquiridos durante
o curso de engenharia de software. Além disso a solução proposta deverá passar
por uma validação dos resultados, baseada na observação
da execução da solução em exemplos de uso, onde cada exemplo conterá uma aplicação
real que deverá ser implantada com sucesso. Essa validação tem seus procedimentos
definidos na seção \ref{subsection:validacao} e as definições dos exemplos de uso
estão na seção \ref{subsection:exemplos}.

Inicialmente será feito uma pesquisa dos trabalhos relacionados, para compreender
quais são as soluções na engenharia de software que buscam a automação da implantação
de aplicações web. Essa pesquisa é uma pesquisa aplicada pois tem como objetivo
gerar conhecimentos para aplicação prática \cite{gerhardt2009metodos},
relacionada a aplicações que auxiliam na implantação automatizada de software.

A partir dessa pesquisa será possível encontrar os trabalhos relacionados. Os
trabalhos encontrados também serão de insumo para auxiliar na construção da
solução a partir da análise dos resultados que foram encontrados. As próximas
seções tratam dos trabalhos relacionados encontrados e dos métodos e
procedimentos para construção da solução, além da validação da solução.

\section{Trabalhos Relacionados}
\label{section:trabalhos_relacionados}
Para responder a questão problema primeiramente deve ser feito um levantamento
de trabalhos relacionados, para compreender como a automação da implantação
de software está sendo utilizada como solução na academia e nas empresas, e
quais são os procedimentos e técnicas utilizados.

Para entender o que acontece na comunidade da computação em relação a implantação
automatizada de aplicações, foi feito uma busca de alguns trabalhos relacionados. O primeiro
trabalho relacionado é um trabalho acadêmico feito por \cite{leo2014} no qual foi
desenvolvido um sistema de middleware chamado CHOReOS Enactment Engine, que é um
sistema que possibilita a implantação distribuída e automatizada de composições
de serviços web numa estrutura virtualizada, no qual opera no modelo
computacional conhecido como plataforma como serviço. Seu foco maior é na automação da 
implantação automatizada de aplicações aliado com a gerência de recursos de hardware.

Existem também ferramentas disponíveis no mercado que também trazem a proposta
de automação de instalação de aplicações alguns exemplos são: \cite{bitnami}
BitNami que é uma biblioteca de aplicativos populares e ambientes de
desenvolvimento que podem ser instalados com apenas um clique, através de uma interface web
amigável. BitNami automatiza todo o processo de compilar e configurar os aplicativos, 
e todas as suas dependências (bibliotecas de terceiros, linguagem de programação, 
bases de dados) para que o usuário comum não se preocupe com questões técnicas. 

Também temos o \cite{sandstormio}
Sandstorm é uma plataforma de código aberto para servidores
pessoais. Sandstorm permite que você execute o seu próprio servidor e instalar
facilmente as aplicações em que o próprio Sandstorm dá suporte, e por fim a 
ferramenta \cite{juju} Juju que lhe permite implementar, configurar, gerenciar, 
e manter serviços de forma rápida e eficiente automatizando a instalação e 
configuração de aplicações na nuvem.

O estudo dessas aplicações serve como base para entender como funcionam as aplicações
já existentes, e como elas são feitas, para que assim seja possível identificar
as ferramentas que são utilizadas para solucionar problemas semelhantes ao problema deste
trabalho. 

Por exemplo, a ferramenta JuJu utiliza uma abstração conhecida como charm,
que é basicamente um arquivo com trechos de código, esse código define um serviço, como por exemplo: instale um banco de dados ou instale a aplicação Wordpress. Um charm
contém toda a lógica de que você precisa para implementar e integrar uma aplicação,
contendo todo o processo de download de ferramentas, instalação e configuração de
aplicações, podendo ser por provisionadores como Chef, Puppet ou Docker \cite{juju},
é possível reaproveitar os charms feitos pela comunidade do JuJu assim
reaproveitando os charms prontos ou não precisando escrever um charm do zero.

Já Bitnami, já trás as aplicações prontas pra uso. Assim o usuário interage com 
uma interface web, no formato clique para instalar, porém
o usuário só tem a disposição as aplicações disponibilizadas pelo Bitnami, isso
também é a forma em que o Sandstorm trabalha, com a diferença de que o Sandstorm é
software livre, já Bitnami tem o código fechado, o que dificulta a análise da arquitetura
que é utilizada por eles. 

Por último, o trabalho feito por \cite{leo2014} é voltado
para serviços web de grande escala, com foco em implantação de aplicações na
nuvem e escalar infraestrutura, utilizando o middleware construído em seu trabalho, 
assim podendo gerenciar ambientes de computação em nuvem como Amazon EC2 e 
Openstack, a sua aplicação utiliza o Chef solo como seu agente de configuração.

Com esse levantamento, as soluções encontradas não resolvem totalmente
o problema, a grande diferença é que as ferramentas encontradas não utilizam os pacotes
disponibilizados pelo Debian, mas elas servem como motivação para o desenvolvimento
deste trabalho. As ferramentas encontradas buscam
abstrair todo processo de instalação e configuração das aplicações, para que o
usuário não tenha dificuldades na instalação de aplicações web, as ferramentas também
trazem uma interface web para que o usuário não precise executar tarefas via terminal.

Outra informação importante, é que as ferramentas também utilizam do conceito de
infraestrutura como código, como visto no capítulo \ref{cap-referencial}, e para
isso utilizam os provisionadores Chef ou Puppet, tornando mais simples a
construção de códigos para a instalação e configuração de aplicações.

Tendo em vista que pelo levantamento dos trabalhos relacionados, o problema inicialmente
proposto não foi resolvido, justifica-se a construção de uma solução de engenharia
de software para implantação automatizada de aplicações em sistemas Debian GNU/Linux.

\section{Construção da solução}
\label{section:construcao}

A partir da análise encontrada nos trabalhos relacionados, é necessário definir
como será feito a construção da solução. Primeiramente será definido as ferramentas
de apoio ao desenvolvimento da solução, após isso, a escolha da ferramenta que será
utilizada para solução do problema, essa será a ferramenta que será evoluída
durante este trabalho. Após a escolha das ferramentas, será descrito como será
feito a validação da solução nos exemplos de uso com aplicações web escolhidas que possuem
seus pacotes disponibilizados pelo Debian.

\subsection{Ferramentas de apoio}

As ferramentas de apoio ao desenvolvimento de software são importantes para a
organização do trabalho, auxiliando nas atividades típicas dentro de um projeto
de engenharia de software. Algumas ferramentas são importantes, pois tornam mais fácil
a execução de algumas atividades, como por exemplo: o controle de versão do software,
ferramenta para documentação do software e ferramenta para gerenciar as tarefas.
Os critérios para escolha das ferramentas são:

\begin{itemize}
  \item \textbf{Aplicação para sistema de controle de versão git:} Uma ferramenta que
  possa gerenciar diversas versões do desenvolvimento do código fonte utilizando
  o sistema de controle de versão git, que seja de preferência um software livre
  ou que não cobre o serviço de hospedagem. Algumas ferramentas disponíveis para
  isso são Github, Gitlab e Bitbucket.
  \item \textbf{Ferramenta para documentação de código:} Uma ferramenta que possa
  documentar o projeto, as aplicações como Gitlab e Github possuem uma wiki já disponível
  para o projeto.
  \item \textbf{Ferramenta de gerenciamento de tarefas:} Uma ferramenta que possa
  gerenciar as tarefas que serão executadas, que estão em execução ou que vão ser executadas
  durante o desenvolvimento do projeto. Essa ferramenta será importante para a
  organização do trabalho, dando visibilidade do trabalho que está sendo realizado.
  \item \textbf{Ferramenta de comunicação:} A ferramenta de comunicação será
  importante para tirar dúvidas rápidas em relação a dificuldades e desafios, as
  comunidades de software livre costumam usar listas de e-mail e canais no \textit{IRC}
  para a comunicação de seus desenvolvedores e usuários.
\end{itemize}

As ferramentas escolhidas para o apoio ao desenvolvimento foram:
\begin{itemize}
  \item \textbf{Ferramenta Git:} O Gitlab foi a aplicação escolhido para o armazenar o
  repositório git, é semelhante ao Github, porém é software livre, distribuído pela
  licença MIT\cite{gitlab}.
  \item \textbf{Documentação de Código:} Toda documentação será disponibilizada
  na wiki do projeto no Gitlab.
  \item \textbf{Gerenciamento de Tarefas:} O gerenciamento de tarefas também será
  feito pelo projeto do Gitlab, onde é possível criar atividades para serem feitas
  e criar marcos podendo adicionar as atividades a esses marcos. Como o ciclo de
  desenvolvimento será de uma semana, serão criados marcos para cada semana e atividades
  agrupadas em cada marco.
  \item \textbf{Comunicação:} A comunicação será feita via \textit{IRC}, que é uma ferramenta
  de comunicação no formato de chat com canais e usuários dentro dos canais,
  apesar de ser uma ferramenta antiga ainda é muito usada pelas comunidades de software
  livre e grandes empresas como Facebook \cite{artigofacebook}.
\end{itemize}

\subsection{Ferramenta Shak}

A construção da solução proposta neste trabalho será baseada na evolução da ferramenta Shak
(Self Hosting Applications Kit).

A ferramenta Shak tem o objetivo de facilitar ao máximo que usuários sem conhecimento
técnico possam ter os seus próprios serviços de internet, garantindo a sua privacidade
e segurança. De acordo com \citeonline{shak2015}, esta plataforma está concebida 
de acordo com os seguintes princípios:

\textbf{Base: Pacotes Debian}

A plataforma Shak é baseada no sistema de pacotes do Debian, uma das distribuições 
GNU/Linux mais consolidadas e com maior comunidade internacional. Os
pacotes do Debian fornecem atualizações consistentes de correção e de segurança,
e são utilizados por uma grande quantidade de usuários que reportam problemas a
serem resolvidos. Porém, para garantirem uma flexibilidade e suportar diferentes
casos de uso, normalmente os pacotes não realizam a configuração completa do ambiente,
deixando os detalhes finais para o administrador do sistema.

Além disso, normalmente as aplicações web são compostas de diversos pacotes, e
requerem configurações específicas que dizem respeito a mais de uma aplicação,
e que por consequência não poderiam ser feitas automaticamente de uma forma sustentável, 
em nenhum dos pacotes. Por isso, os pacotes além de serem instalados, precisam ser configurados.

Isso é feito muitas vezes de forma manual, ou ainda, requer conhecimento técnico
para executar configurações mais complexas, afastando os possíveis usuários
que queiram utilizar alguma aplicação fornecida pelo Debian, mas não possuem
conhecimento técnico para a configuração das aplicações.

\textbf{Nova abstração: Aplicação}

Para resolver as questões que não podem ser resolvidas a nível de pacotes, o
Shak introduz uma nova abstração: a aplicação. Uma aplicação geralmente
contém mais de um pacote, inclusive necessita de configurações em vários pacotes.

Uma vez que o usuário seleciona uma determinada aplicação para
ser instalada, os pacotes necessários são instalados e as configurações
necessárias são feitas de forma automática, fornecendo de fato um "instalador
de um clique" para aplicações suportadas. Todas as configurações são feitas de
forma consistente utilizando uma ferramenta comum, buscando o maior nível de
segurança possível, e assumindo responsabilidades que não podem ser tomadas por
um pacote, e realizando tarefas complexas de forma automatizada, sem a necessidade
da interferência de algum usuário.

\textbf{Diferencial para outras soluções existentes}

Existem outras soluções disponíveis para instalação de aplicações por um clique,
como por exemplo \cite{bitnami} e \cite{sandstormio}, mas o Shak se
diferencia delas nos seguintes aspectos:

\begin{itemize}
  \item O Shak pode ser implantando numa máquina virtual na nuvem ou em servidores físicos
    próprios, a critério do usuário.

  \item O Shak reutiliza o trabalho dos mantenedores Debian, que fornecem pacotes
    de alta qualidade.

  \item O Shak reutiliza a infraestrutura do Debian, que é utilizada por várias
outras distribuições Linux baseadas no Debian, como por exemplo: Ubuntu e Linux Mint.

\end{itemize}

Por outro lado, apenas os softwares que estejam empacotados no Debian estarão
disponíveis, mas isso pode ser visto de forma positiva também. O Shak
fornecerá um incentivo para que ainda mais softwares estejam disponíveis no
Debian, o que é um benefício coletivo para o ecossistema do software livre, e
para os seus usuários. Logo, quanto mais aplicações disponíveis no Debian,
mais aplicações serão disponibilizadas para os usuários do Debian e seus derivados.

O Debian possui espelhos do seu repositório espalhados por todo o mundo,
fornecendo links para que se tenha downloads mais rápidos aonde quer que o usuário esteja.
Atualizações de defeitos e correções de segurança realizadas no Debian estarão
automaticamente disponíveis para usuários do Shak de forma transparente. Além disso,
o próprio Shak estará disponível como um pacote dentro do próprio repositório oficial do Debian.

A arquitetura da ferramenta Shak é composta de:

\begin{itemize}
  \item  \textbf{Livro de Receitas Chef:} Shak contém alguns livros de receitas
  para poder organizar a instalação de cada componente, como por, exemplo um livro
  de receitas para cada aplicação que for instalada.
  \item  \textbf{Código Ruby} A arquitetura do Shak foi desenvolvida na linguagem
  Ruby, com programação orientado a objetos.
  \item  \textbf{Servidor web} O Shak utiliza o software livre Nginx, que é
  servidor \textit{HTTP} de alto desempenho \cite{nginx}.
  \item  \textbf{Pacotes Debian} O Shak utiliza pacotes incluídos na distribuição
  oficial do Debian.
  \item  \textbf{Gems} O Shak também utiliza algumas gems para seu funcionamento,
  uma gem nada mais é do que uma biblioteca Ruby, que provê um formato padrão para
  a distribuição de programas Ruby \cite{gem}.
  \item  \textbf{Código Shellscript} O Shak também utiliza algumas gems para seu funcionamento,
  uma gem nada mais é do que uma biblioteca, que provê um formato padrão para
  a distribuição de programas Ruby \cite{gem}.
\end{itemize}

O Shak é uma ferramenta que põe em prática o conceito de infraestrutura
como código, buscando velocidade e principalmente qualidade na implantação
automatizada de aplicações, utilizando-se de codificação simples e objetiva,
sem a necessidade mais de diversos passos e processos para se preparar um ambiente,
e sem perder o poder de controle, segurança e qualidade da implantação das aplicações.

Para adicionar no Shak uma aplicação que esteja disponível nos repositórios oficiais
do Debian, é necessário construir o livro de receitas para a
aplicação desejada, essa atividade será uma das atividades deste trabalho, sendo assim
adicionando novas aplicações web a ferramenta Shak.

\subsection{Criação de Ambientes de Desenvolvimento}

Uma das necessidades para o desenvolvimento do projeto é ter um ambiente de desenvolvimento
flexível, que possa ser rapidamente construído e destruído, onde seja possível 
testar as implantações feitas pela ferramenta Shak e verificar os erros caso 
aconteçam. 

Para isso é necessário utilizar alguma ferramenta que automatize processo de 
construir ambientes de desenvolvimento. Construir ambientes manualmente pode
ser um processo longo e demorado, além disso, é possível que ocorra erros por
desatenção ao executar vários passos manuais. 

Por isso é necessário o uso de uma ferramenta para auxiliar na criação das máquinas
virtuais, que serão nó alvo das implantações, e que seja possível gerenciá-las 
de forma automatizada, servindo de suporte para a criação dos a
mbientes de desenvolvimento e facilitando a execução e teste da implantação das
aplicações escolhidas.

A ferramenta escolhida para auxiliar a criação de um ambiente de desenvolvimento é
a ferramenta Vagrant \footnote{https://www.vagrantup.com/}. Com o Vagrant é 
possível gerenciar a criação de máquinas
virtuais para os ambientes de desenvolvimento do projeto, também é possível usar
ferramentas de automação para criar o servidor de implantação, definindo todas
as configurações necessárias em arquivos que farão parte do repositório git do 
Shak. 

Dessa maneira, qualquer pessoa que clonar o repositório poderá rodar uma 
instância desse servidor, que será exatamente idêntico para todos os usuários 
que forem criar uma máquina virtual, reduzindo ao máximo os problemas que surgem 
por causa das diferenças entre sistemas operacionais e configurações de sistema.

Quando executamos o comando vagrant up o Vagrant cria uma máquina virtual com as
configurações que estão no arquivo Vagrantfile na raiz do projeto Shak, nele
estão todas as configurações e definições da máquina virtual em questão. Para o
Vagrant criar uma máquina virtual é preciso escolher um software que gerencie
esse procedimento, a ferramenta escolhida foi o Virtualbox para poder emular o sistema
operacional uma máquina virtual, assim o Vagrant inicia uma máquina virtual
utilizando o Virtualbox, com a distribuição Debian GNU/Linux e as configurações que estiverem
definida no arquivo de configuração Vagrantfile.

Para executar o Vagrant basta instalar o pacote disponível pelo Debian, além disso
o repositório do projeto Shak já possui um Vagrantfile padrão para que todos os
desenvolvedores tenham o mesmo ambiente, passa acessar a máquina virtual criada
basta acessá-la via ssh, o Vagrant já gerencia as chaves ssh, portanto basta
dar o comando vagrant ssh que estará conectado a máquia virtual via ssh.

O ambiente de desenvolvimento levantado é um ambiente com o sistema Debian na sua versão
sid 64 bits(que é a versão que contém os pacotes mais atuais, conhecida como versão instável),
apesar de a versão ser a versão instável isso é importante para que possamos
utilizar as versões mais novas dos pacotes das ferramentas escolhidas, também
será importante para reportar algum erro caso seja encontrado.

Com o ambiente de desenvolvimento definido, agora é possível iniciar a criação dos
livros de receitas das aplicações. O repositório do Shak possui alguns scripts
para instalar algumas dependências. Nesses scripts contém as instalações das 
dependências para o Shak funcionar perfeitamente
e também o próprio Chef, que é utilizado pela ferramenta Shak para instalar aplicações
e suas dependências, porém todos esses passos já são executados graças ao Vagrantfile
que está no repositório, facilitando assim a criação de ambientes para o desenvolvimento,
se a necessidade de execução de nenhum script adicional.


\section{Planejamento das Atividades}

As atividades planejadas para a evolução da ferramenta Shak são baseadas nas 
aplicações que foram escolhidas na seção
\ref{subsection:exemplos}. Essas aplicações serão as aplicações piloto, que 
ajudarão na evolução da solução proposta, o planejamento inicial é que a ferramenta 
Shak, possa concluir inicialmente com sucesso, a instalação do Owncloud e Wordpress de forma 
automatizada. 

Os critérios para a escolha das ferramentas está definido na seção \ref{validacao},
levando em consideração todos os aspectos definidos no capítulo
\ref{cap-metodologia}. As atividades iniciais levantadas foram:

 \begin{itemize}
   \item \textbf{Atividade 1} Suporte a instalação automatizada do Wordpress.
   \item \textbf{Atividade 2} Suporte a instalação automatizada do Owncloud.
   \item \textbf{Atividade 3} Forçar as aplicações Wordpress e Owncloud a
   utilizar o protocolo HTTPS.
   \item \textbf{Atividade 4} Suporte a instalação automatizada do servidor de e-mail,
   \item \textbf{Atividade 5} Suporte a instalação automatizada do outras aplicações.
 \end{itemize}

Ao verificar que tanto a ferramenta Owncloud como a ferramenta Wordpress precisam
de configurações servidor de e-mail para algumas funcionalidades, também foi adicionado
a atividade de criação de uma receita para a automatizar a configuração de
servidor de e-mail. Como aspecto de segurança, ficou definido que tanto a aplicação
Owncloud como Wordpress deveriam usar sempre HTTPS por padrão, isso envolve também
uma estratégia de como serão gerenciados os certificados de segurança para aplicar
o protocolo HTTPS. Além dessas atividades previstas, também foram feitas evoluções
no Shak para que seja possível a implementação dessas atividades.

Dentro da implantação automatizada de software Debian GNU/Linux temos várias
configurações possíveis. Neste trabalho existem alguns aspectos que 
deverão ser levados em consideração, esses aspectos serão importantes para 
guiar a construção da solução.

\begin{itemize}
  \item  \textbf{Aspecto 1:} Uso dos aspectos de segurança na implantação de aplicações web,
 como por exemplo utilizar protocolos como HTTPS.
  \item  \textbf{Aspecto 2:} Uso da implantação automatizada de múltiplas instâncias de
   aplicações no mesmo servidor, utilizando hospedagem virtual.
  \item  \textbf{Aspecto 3:} Uso de aplicações que são empacotadas no Debian.
\end{itemize}

Por fim é necessário definir procedimentos que serão
feitos para a execução da implantação automatizada das aplicações. Esses procedimentos são
importantes para a construção da arquitetura inicial, considerando
o processo de implantação de software visto no capítulo \ref{cap-referencial}
e a referência dos trabalhos relacionados. É preciso definir as fases e os
procedimentos para implantação automatizada, definindo as etapas
da implantação.

\subsection{Fases e Procedimentos para implantação}
\label{sec:fases}
Primeiramente é necessário definir as fases e os procedimentos para a implantação automatizada,
seguindo as fases que compõem o processo de implantação de aplicações e de acordo
com \cite{omg2006}, As fases utilizadas enstre trabalho são as fases definidas no 
capítulo \ref{cap-referencial} com o acréssimo da fase de configuração de múltiplas
instâncias, que é a fase responsável por habilitar a configuração 
de múltiplas instâncias de uma aplicação, permitindo que seja possível que 
tenha várias instâncias da mesma aplicação sem duplicação de recursos. As fases 
definidas são:

\begin{itemize}
  \item  \textbf{Planejamento} 
  \item  \textbf{Preparação e Instalação de Pacotes}   
  \item  \textbf{Configuração}   
  \item  \textbf{Configuração de múltiplas instâncias}   
  \item  \textbf{Inicialização/Execução} 
\end{itemize}


Também é importante definir os procedimentos de segurança na implantação, e
automatizar os que forem possíveis de serem aplicados dentro do contexto da
arquitetura proposta. Um exemplo
é a configuração das aplicações sempre usarem protocolos seguros, como o \textit{HTTPS}. 
Para as aplicações web é necessário utilizar o protocolo HTTPS, para aplicações
de e-mail é necessário utilizar os protocolos \textit{SMTP} e \textit{IMAPS}.

\section{Validação da solução}
\label{subsection:validacao}

Para validar a arquitetura proposta no trabalho serão feitos exemplos de uso,
com aplicações que possam servir para a execução da arquitetura construída, ou seja,
aplicações que tenham todo o seu processo de instalação e configuração automatizado, a
fim de refinar e evoluir a solução conforme problemas forem surgindo. A escolha
desses exemplos de uso devem ser feitas a partir de aplicações reais e
conhecidas na comunidade de software livre. Outros aspectos também são importantes e
devem ser levados em consideração para a escolha das
aplicações piloto, as seguintes características foram levadas em consideração
para a escolha das aplicações:

\begin{itemize}
  \item  \textbf{Aplicações empacotadas no Debian:} Como o intuito do trabalho
  é realizar implantações múltiplas a partir de um pacote único, tais aplicações
  devem estar empacotadas e disponíveis para instalação nos servidores do Debian.
  Isso impacta na escolha da ferramenta, visto que não será necessário ter o trabalho
  de empacotar aplicações que ainda não estão empacotadas no Debian.
  \item  \textbf{Servidor web compatível:} As ferramentas escolhidas devem no
  mínimo possuir o servidor web compatível, por exemplo: as aplicações juntas
  devem possuir suporte para o servidor Nginx ou Apache ou similares.
  \item  \textbf{Aplicações com comunidades ativas:} Como estamos trabalhando
  com software livre, é importante que os softwares escolhidos possuem comunidades
  ativas, isso pode ajudar na resolução de possíveis problemas, logo aplicações
  em que sejam difíceis de comunicar com a sua comunidade devem ser evitadas, e
  aplicações com a comunidade de desenvolvedores e usuários ativa devem ser priorizadas.
  E isso também pode ser um fator importante caso durante os testes sejam descobertos
  erros ou melhorias dentro dessas ferramentas e tais erros e melhorias possam ser
  reportados para a comunidade, ou até mesmo problemas solucionados e devolvidos aos mantenedores
  das ferramentas.
  \item  \textbf{Documentação do software:} A documentação do software também deve
  ser levado em consideração, principalmente a documentação da instalação e configuração
  dentro da ferramenta, ferramentas que não possuem documentação de instalação e
  configuração devem ser evitadas.
  \item  \textbf{Aplicações com suporte a federação:} Aplicações federadas permitem
 utilização de métodos de autenticação única para cada instância da aplicação,
mantendo a compatibilidade entre elas, um exemplo é a aplicação Owncloud,
que permite compartilhar seus arquivos na nuvem independente do Owncloud que estiver usando,
isto é possível utilizando apenas um identificador único, chamado ID Federated Cloud, assim
possibilitando que os arquivos do usuário sejam compartilhados entre suas instâncias do
Owncloud na nuvem.
\end{itemize}

A partir dessas características definidas, é necessário encontrar os exemplos de uso
que possam servir para a execução da solução, todos as aplicações que servirão como
exemplos de uso devem possuir pacotes incluídos na distribuição oficial do Debian.

\subsection{Exemplos de uso}
\label{subsection:exemplos}

Para encontrar as aplicações que possam se encaixar dentro desses parâmetros
devemos buscar por alguns exemplos de uso. Para a escolha das aplicações que
serão utilizadas como exemplos de uso é necessário fazer uma busca nas aplicações
web que são empacotadas no Debian e que possuem suporte a configuração de múltiplas
instâncias, essa busca deve levar em consideração também a documentação para realizar
tal configuração. Foram levantados algumas aplicações web empacotadas no Debian da
seguinte forma:

\begin{center}
apt-cache search web | wc -l
\end{center}

O resultado obtido com pacotes que contenham a palavra web recebe o resultado de 3470
pacotes de diversas aplicações ou módulos de aplicações, como:
Wordpress, Owncloud, Drupal, Mailman e Chromium. Logo dentro dessa rápida busca
encontramos alguns pacotes de aplicações conhecidas, para facilitar a busca basta
aplicar para alguns nomes de aplicações conhecidos como:

\begin{center}
apt-cache search web | grep wordpress
\end{center}

Para avaliar se as aplicações possuem suporte a múltiplas instâncias é necessário
analisar a documentação das aplicações, as aplicações costumam disponibilizar a sua
documentação na sua página ou numa wiki, também é possível checar a documentação
quando se instala uma aplicação nos arquivos de documentação da aplicação em
/usr/share/doc/ ou também pode-se utilizar os comandos:

\begin{center}
man "nome aplicação"

info "nome aplicação"
\end{center}

Analisando a documentação de algumas aplicações como Wordpress, Redmine,
Owncloud, Mailman, Wikimédia, foram escolhidas as aplicações Wordpress e Owncloud por
conter as características definidas anteriormente. 

Primeiro foi feito uma análise da documentação dessas ferramentas para encontrar a
possibilidade da configuração de múltiplas instâncias no mesmo servidor, além
disso também foi visto se as aplicações tinham suporte ao servidor Nginx que é
o servidor utilizado pelo Shak, por fim as duas aplicações também foram escolhidas
pela grande comunidade de usuários ativa e as duas aplicações também possuírem
canais de \textit{IRC} para tirar dúvidas com desenvolvedores e usuários. 

Também foi levado em consideração o fato da  aplicação Owncloud dar suporte a federação,
com  o objetivo de compartilhar arquivos em servidores na nuvem de forma simples,
como por exemplo: enviar um e-mail de um servidor para outro, sendo assim,
também é possível migrar os seus arquivos pessoais de um servidor Owncloud a outro.

Com as aplicações que serão exemplos de uso escolhidas a proposta de arquitetura
pode ser testada e validada, com o objetivo de criar múltiplas instâncias
no mesmo servidor de forma automatizada a partir de um pacote único. Logo os
exemplos de uso também servirão para refinar e evoluir a arquitetura proposta.

Para realizar tais validações é importante que as instalações e configurações
sejam executadas num ambiente limpo, ou seja, os testes devem ser criados de preferência
em máquinas virtuais com a configuração conhecida como minimal, que contém
instalado apenas as aplicações necessárias para o funcionamento do sistema operacional.

A partir da execução dos exemplos de uso será possível a coleta de informações
necessárias para a validação da implantação correta das aplicações, essa
validação a princípio será feita a partir da execução da implantação e
verificação das funcionalidades da aplicação implantada, ou seja,
após a execução da implantação o testador deverá verificar o perfeito
funcionamento de algumas funcionalidades básicas da aplicação escolhida,
e principalmente verificar a implantação de várias instâncias da mesma
aplicação no mesmo servidor destino, observando o perfeito funcionamento de todas as
instâncias implantadas assim validando a implantação de múltiplas instâncias.
